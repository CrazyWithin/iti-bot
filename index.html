<!DOCTYPE html>
<html lang="ru">
<head>
	<title>Информ. бот</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1">
	<link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
	<link rel="stylesheet" type="text/css" href="dist/jquery.convform.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
	<link rel="stylesheet" type="text/css" href="demo.css">
	<link media="screen" href="demo/styles/demo.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<table cellpadding="0" cellspacing="0" id="demo_navi">
  <tr>
    <td width="220"><a href="/" rel="nofollow" ><div class="logo"><b><font color=#c3e425>ИТИ</font>Бот</b></div></a></td><td width="45">
	<td style="text-overflow: ellipsis;"><div class="name">Информационный бот ИТИ</div></a></td>
  </tr>
</table>
	<section id="demo">
	    <div class="vertical-align">
	        <div class="container">
	            <div class="row">
	                <div class="col-sm-6 col-sm-offset-3 col-xs-offset-0">
	                    <div class="card no-border">
	                        <div id="chat" class="conv-form-wrapper">
	                            <form action="" method="GET" class="hidden">
	                            		<select name="start" data-callback="storeState" data-conv-question="Добрый день, я бот поддержки ИТИ.|Доброго времени суток, уважаемый аббитуриент." name="first-question">
										<script>
	                             		speechSynthesis.speak(new SpeechSynthesisUtterance('Добрый день, я бот поддержки ИТИ. Как мне обращаться к Вам?'));
										</script>
										<option value="yes">Начать диалог</option>
										</select>
										<input type="text" name="name" data-conv-question="Скажите, пожалуйста, Ваше имя.| Как мне к Вам обращаться?" data-pattern="[a-zA-ZА-Я-а-я]">
										<input type="text" data-conv-question="Приятно с вами познакомиться,{name}. Чем я могу вам помочь?" data-no-answer="true">
										<select name="target" data-conv-question="Какой вопрос вас интересует,{name}:0?">	
										<option value="admission">Поступление</option>
	                                    <option value="administration">Администрация</option>
										<option value="grants">Соц.поддержка</option>
										</select>
									<div data-conv-fork="target">
	                                <div data-conv-case="administration">
											<select name="a" data-conv-question="{name},в данном разделе я расскажу Вам основную информацию об администрации ИТИ.">
											<option value="a1">Начинай</option>
											<script>
											speechSynthesis.speak(new SpeechSynthesisUtterance('Если вас интересует учебная деятельность, нажмите 1. Если же научная или воспитательная, то 2 или соответственно 3. '));
											</script>
											<input type="text" data-conv-question="{name},если вас интересует зам.директора по ученой деятельности, нажмите 1." data-no-answer="true">
											<input type="text" data-conv-question="Если вас интересует зам.директора по научной деятельности, нажмите 2." data-no-answer="true">
											<input type="text" data-conv-question="Если вас интересует зам.директора по воспитательной деятельности, нажмите 3." data-no-answer="true">
											<select name="admin" data-conv-question="Ваш выбор:">
											<option value="1">1</option>
											<option value="2">2</option>
											<option value="3">3</option>
											</select>
												<div data-conv-fork="admin">
													<div data-conv-case="1">
													<select name="a" data-conv-question="Сейчас я предоставлю вам информацию о заместителе директора по учебной деятельности.">
													<option value="a1">Ок</option>
													<script>
													speechSynthesis.speak(new SpeechSynthesisUtterance('Зам.директора по учебной деятельности: Галеева Надия Абдуловна. Кабинет 412. Время работы: с 8 до 17. Выходные: суббота, воскресенье. '));
													</script>
													<input type="text" data-conv-question="Зам.директора по учебной деятельности: Галеева Надия Абдуловна. Кабинет 412. Время работы: с 8 до 17. Выходные: суббота, воскресенье." data-no-answer="true">
													<select name="Question" data-conv-question="Для продолжения работы нажимте кнопку Ок и страница обновится автоматически.">
													<option value="Ok">Ok</option>
													</select>
													</div>
												</div>
												<div data-conv-fork="admin">
													<div data-conv-case="2">
													<select name="b" data-conv-question="Сейчас я предоставлю вам информацию о заместителе директора по научной деятельности.">
													<option value="b1">Ок</option>
													<script>
													speechSynthesis.speak(new SpeechSynthesisUtterance('Зам.директора по научной деятельности: Артюшкин Олег Валентинович. Кабинет 401. Время работы: 8-17. Выходные: суббота, воскресенье.'));
													</script>
													<input type="text" data-conv-question="Зам.директора по научной деятельности: Артюшкин Олег Валентинович. Кабинет 401. Время работы: 8-17. Выходные: суббота, воскресенье." data-no-answer="true">
													<select name="Question" data-conv-question="Для продолжения работы нажимте кнопку Ок и страница обновится автоматически.">
													<option value="Ok">Ok</option>
													</div>
													</select>
												</div>
												<div data-conv-fork="admin">
													<div data-conv-case="3">
														<select name="c" data-conv-question="Сейчас я предоставлю вам информацию о заместителе директора по воспитательной деятельности.">
														<option value="c1">Ок</option>
															<script>
															speechSynthesis.speak(new SpeechSynthesisUtterance('Зам.директора по воспитательной деятельности: Петрова Наталья Владимировна. Кабинет 417. Время работы: с 8 до 17. Выходные: суббота, воскресенье.'));
															</script>	
													<input type="text" data-conv-question="Зам.директора по воспитательной деятельности: Петрова Наталья Владимировна. Кабинет 417. Время работы: с 8 до17. Выходные: суббота, воскресенье." data-no-answer="true">
													<select name="Question" data-conv-question="Для продолжения работы нажимте кнопку Ок и страница обновится автоматически.">
													<option value="Ok">Ok</option>
													</select>
													</div>
												</div>
										</div>
									<div data-conv-fork="target">	
										<div data-conv-case="grants">
											<input type="text" data-conv-question="Я расскажу Вам о мерах социальной поддержки и их условиях, а так же могу рассказать про профсоюзную организацию студентов ХГУ." data-no-answer="true">
											<select name="grant" data-conv-question="Какой вопрос вас интересует, {name}:0?">
											<option value="documents">Документы ПГАС</option>
											<option value="scolarship_amount">Размеры стипендий</option>
											<option value="student_hostel">Общежитие</option>
											</select>
											<div data-conv-fork="grant">
														<div data-conv-case="scolarship_amount">
															<select name="a" data-conv-question="{name},сейчас я расскажу вам о размерах стипендий для студентов нашего университета.">
																<option value="a1">Ок</option>
																<script>
																speechSynthesis.speak(new SpeechSynthesisUtterance('Размеры государственных стипендий для студентов нашего университета представлены на экране.'));
																</script>
															<input type="text" data-conv-question="Размер государственной академической стипендии равен 3200 рублей в месяц(+50% в случае, если сессия сдана только на 'отлично')." data-no-answer="true">
															<input type="text" data-conv-question="Размер государственной социальной стипендии равен 3800 рублей в месяц." data-no-answer="true">
															<input type="text" data-conv-question="Размер повышенной государственной академической стипендии равен 9800 рублей в месяц (с учётом выплачиваемой государственной академической и социальных стипендий)." data-no-answer="true">
															<input type="text" data-conv-question="Размер государственной академической стипендии для аспирантов равен 6000 рублей в месяц." data-no-answer="true">
															<select name="Question" data-conv-question="Для продолжения работы нажимте кнопку Ок и страница обновится автоматически.">
															<option value="Ok">Ok</option>
															</select>
														</div>
												</div>
													<div data-conv-fork="grant">
														<div data-conv-case="documents">
															<select name="a" data-conv-question="{name},Я предоставлю Вам ссылку на необходимые документы для получения ПГАС.">
																<option value="a1">Ок</option>
																<script>
																speechSynthesis.speak(new SpeechSynthesisUtterance('Перейдя по этой ссылке, вы сможете скачать все необходимые документы на повышенную государственную академическую стипендию.'));
																</script>
															<input type="text" data-conv-question="На этом сайте собраны все документы необходимые для оформления ПГАС." data-no-answer="true">
															<input type="text" data-conv-question="https://yadi.sk/d/umL6G4pcIXvh6w" data-no-answer="true">
															<select name="Question" data-conv-question="Для продолжения работы нажимте кнопку Ок и страница обновится автоматически.">
															<option value="Ok">Ok</option>
														</div>
															</select>
													</div>
												<div data-conv-fork="grant">
														<div data-conv-case="student_hostel">
														<select name="a" data-conv-question="{name},Я предоставлю Вам ссылку на необходимые документы для заселения в общежитие от нашего университета.">
																<option value="a1">Ок</option>
																<script>
																speechSynthesis.speak(new SpeechSynthesisUtterance('Перейдя по этой ссылке, вы сможете скачать все необходимые документы для заселения в общежитие.'));
																</script>
														<input type="text" data-conv-question="На этом сайте собраны все документы необходимые для заселения в общежитие." data-no-answer="true">
														<input type="href" data-conv-question="https://yadi.sk/d/OjyroWIxgY5KbQ"> data-no-answer="true">
														<select name="Question" data-conv-question="Для продолжения работы нажимте кнопку Ок и страница обновится автоматически.">
															<option value="Ok">Ok</option>
														</select>
														</div>
												</div>
										</div>
									</div>	
									<div data-conv-fork="target">
										<div data-conv-case="admission">
										<select name="a" data-conv-question="{name},я представлю Вам наши специальности по программам которых Вы сможете пройти обучение в нашем институте.">
										<option value="a1">Ок</option>
										<script>
										speechSynthesis.speak(new SpeechSynthesisUtterance('Какое направление вас интересует? Если нужного среди них нет, нажмите далее.'));
										</script>
											<input type="text" data-conv-question="Я расскажу Вам об интересующих Вас направлениях подготовки по очной форме обучения." data-no-answer="true">	
											<input type="text" data-conv-question="09.03.03 - Прикладная информатика." data-no-answer="true">
											<input type="text" data-conv-question="09.03.01 - Информатика и вычислительная техника." data-no-answer="true">
											<input type="text" data-conv-question="09.03.02 - Информационные системы и технологии." data-no-answer="true">
											<input type="text" data-conv-question="09.04.01 - Информатика и вычислительная техника (магистратура)." data-no-answer="true">
											<select name="direction" data-conv-question="Выберите интересующее направление. Если нужного среди них нет, нажмите 'Далее'.">
												<option value="09.03.03">09.03.03</option>
												<option value="09.03.01">09.03.01</option>
												<option value="09.03.02">09.03.02</option>
												<option value="09.04.01">09.04.01</option>
												<option value="next">Далее</option>
											</select>
										</div>	
										<div data-conv-fork="direction">
											<div data-conv-case="next">
											<input type="text" data-conv-question="20.03.01 - Техносферная безопасность." data-no-answer="true">
											<input type="text" data-conv-question="29.03.01 - Технология изделий лёгкой промышленности." data-no-answer="true">
											<input type="text" data-conv-question="08.03.01 - Строительство." data-no-answer="true">
												<select name="direction2" data-conv-question="Какое направление вас интересует?:">
												<option value="20.03.01">20.03.01</option>
												<option value="29.03.01">29.03.01</option>
												<option value="08.03.01">08.03.01</option>
											</select>		
											</div>
										</div>
									<div data-conv-fork="direction">
										<div data-conv-case="09.03.03">
											<input type="text" data-conv-question="09.03.03 - Прикладная информатика. Число бюджетных мест: 24. Число платных мест: 2. Стоимость обучения: *** *** в год. Для поступления на эту специальность требуется: 2 фотографии 3х4см, аттестат о полном среднем образовании/ диплом о среднем-специальном/ диплом о высшем образовании. Копии паспорта + страница с пропиской. " data-no-answer="true">
											<input type="text" data-conv-question="Также требуется отчёт о результатах ЕГЭ по предметам: русский язык, математика, информатика. Поступив на эту специальность и отучившись 3 года 10 месяцев, Вы получите диплом о высшем образовании со специальностью: *****.  " data-no-answer="true">
											<select name="Question" data-conv-question="Для продолжения работы нажимте кнопку Ок и страница обновится автоматически.">
												<option value="Ok">Ok</option>
											</select>
											</div>
									</div>
									<div data-conv-fork="direction">
										<div data-conv-case="09.03.02">
											<input type="text" data-conv-question="09.03.02 - Информационные системы и технологии. Число бюджетных мест: 22. Число платных мест: 3. Стоимость обучения: *** *** в год. Для поступления на эту специальность требуется: 2 фотографии 3х4см, аттестат о полном среднем образовании/ диплом о среднем-специальном/ диплом о высшем образовании. Копии паспорта + страница с пропиской. " data-no-answer="true">
											<input type="text" data-conv-question="Также требуется отчёт о результатах ЕГЭ по предметам: русский язык, математика, информатика. Поступив на эту специальность и отучившись 3 года 10 месяцев, Вы получите диплом о высшем образовании с присвоением квалификации: *****.  " data-no-answer="true">
											<select name="Question" data-conv-question="Для продолжения работы нажимте кнопку Ок и страница обновится автоматически.">
												<option value="Ok">Ok</option>
											</select>
											</div>
									</div>
									<div data-conv-fork="direction">
										<div data-conv-case="09.03.01">
											<input type="text" data-conv-question="09.03.01 - Информатика и вычислительная техника. Число бюджетных мест:44. Число платных мест: 6. Стоимость обучения: *** *** в год. Для поступления на эту специальность требуется: 2 фотографии 3х4см, аттестат о полном среднем образовании/ диплом о среднем-специальном/ диплом о высшем образовании. Копии паспорта + страница с пропиской. " data-no-answer="true">
											<input type="text" data-conv-question="Также требуется отчёт о результатах ЕГЭ по предметам: русский язык, математика, информатика. Поступив на эту специальность и отучившись 3 года 10 месяцев, Вы получите диплом о высшем образовании с присвоением квалификации: *****.  " data-no-answer="true">
											<select name="Question" data-conv-question="Для продолжения работы нажимте кнопку Ок и страница обновится автоматически.">
												<option value="Ok">Ok</option>
											</select>
											</div>
									</div>
									<div data-conv-fork="direction">
										<div data-conv-case="09.04.01">
											<input type="text" data-conv-question="09.04.01 - Информатика и вычислительная техника (магистратура). Число бюджетных мест:**. Число платных мест: . Стоимость обучения: *** *** в год. Для поступления на эту специальность требуется: 2 фотографии 3х4см, диплом о высшем образовании (бакалавриат). Копии паспорта + страница с пропиской. " data-no-answer="true">
											<input type="text" data-conv-question="Также требуется отчёт о результатах ЕГЭ по предметам: русский язык, математика, информатика. Поступив на эту специальность и отучившись 1 год 10 месяцев, Вы получите диплом о высшем образовании с присвоением квалификации: *****.  " data-no-answer="true">
											<select name="Question" data-conv-question="Для продолжения работы нажимте кнопку Ок и страница обновится автоматически.">
												<option value="Ok">Ok</option>
											</select>
										</div>
									</div>
									<div data-conv-fork="direction2">
										<div data-conv-case="20.03.01">
											<input type="text" data-conv-question="20.03.01 - Техносферная безопасность. Число бюджетных мест: 12. Число платных мест: 13. Стоимость обучения: *** *** в год. Для поступления на эту специальность требуется: 2 фотографии 3х4см, диплом о высшем образовании (бакалавриат). Копии паспорта + страница с пропиской. " data-no-answer="true">
											<input type="text" data-conv-question="Также требуется отчёт о результатах ЕГЭ по предметам: русский язык, математика, химия. Поступив на эту специальность и отучившись 3 года 10 месяцев, Вы получите диплом о высшем образовании с присвоением квалификации: *****.  " data-no-answer="true">
											<select name="Question" data-conv-question="Для продолжения работы нажимте кнопку Ок и страница обновится автоматически.">
												<option value="Ok">Ok</option>
											</select>
										</div>
									</div>
									<div data-conv-fork="direction2">
										<div data-conv-case="29.03.01">
											<input type="text" data-conv-question="29.03.01 - Технология изделий лёгкой промышленности. Число бюджетных мест: 20. Число платных мест: 10. Стоимость обучения: *** *** в год. Для поступления на эту специальность требуется: 2 фотографии 3х4см, диплом о высшем образовании (бакалавриат). Копии паспорта + страница с пропиской. " data-no-answer="true">
											<input type="text" data-conv-question="Также требуется отчёт о результатах ЕГЭ по предметам: русский язык, математика, физика. Поступив на эту специальность и отучившись 3 года 10 месяцев, Вы получите диплом о высшем образовании с присвоением квалификации: *****.  " data-no-answer="true">
											<select name="Question" data-conv-question="Для продолжения работы нажимте кнопку Ок и страница обновится автоматически.">
												<option value="Ok">Ok</option>
											</select>
										</div>
									</div>
									<div data-conv-fork="direction2">
										<div data-conv-case="08.03.01">
											<input type="text" data-conv-question="08.03.01 - Строительство. Число бюджетных мест: 25. Число платных мест: 5. Стоимость обучения: *** *** в год. Для поступления на эту специальность требуется: 2 фотографии 3х4см, диплом о высшем образовании (бакалавриат). Копии паспорта + страница с пропиской. " data-no-answer="true">
											<input type="text" data-conv-question="Также требуется отчёт о результатах ЕГЭ по предметам: русский язык, математика, физика. Поступив на эту специальность и отучившись 3 года 10 месяцев, Вы получите диплом о высшем образовании с присвоением квалификации: *****.  " data-no-answer="true">
											<select name="Question" data-conv-question="Для продолжения работы нажимте кнопку Ок и страница обновится автоматически.">
												<option value="Ok">Ok</option>
											</select>
										</div>
									</div>
									</div>
									</div>
									</div>
								</form>
	                        </div>
	                    </div>
	                </div>
	            </div>
	        </div>
	</section>
	<script type="text/javascript" src="jquery-1.12.3.min.js"></script>
	<script type="text/javascript" src="dist/autosize.min.js"></script>
	<script type="text/javascript" src="dist/jquery.convform.js"></script>
	<script type='text/javascript' src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js" defer></script>
	<script>
		var rollbackTo = false; 
		var originalState = false; 
		function storeState(stateWrapper) {
			rollbackTo = stateWrapper.current;
			console.log("storeState called: ",rollbackTo);
		}
		function rollback(stateWrapper) {
			console.log("rollback called: ", rollbackTo, originalState);
			console.log("answers at the time of user input: ", stateWrapper.answers);
			if(rollbackTo!=false) {
				if(originalState==false) {
					originalState = stateWrapper.current.next;
						console.log('stored original state');
				}
				stateWrapper.current.next = rollbackTo;
				console.log('changed current.next to rollbackTo');
			}
		}
		function restore(stateWrapper) {
			if(originalState != false) {
				stateWrapper.current.next = originalState;
				console.log('changed current.next to originalState');
			}
		}
	</script>
	<script>
		jQuery(function($){
			var convForm = $('#chat').convform();
			console.log(convForm);
		});
	</script>
</body>
</html>
